#!/usr/bin/perl

use Mojolicious::Lite;
use Authen::Krb5::Simple;
use JSON;

use Slurm::Mojo;


# Route with placeholder
get '/slurm/:cluster' => sub {
  my $services = [
    "job",
    "queue",
    "account"
  ];
  my $c   = shift;
  my $foo = $c->param('cluster');
  my $json = JSON->new->allow_nonref;
  return $c->render(text => $json->encode($services));
};

# Start the Mojolicious command system
app->start;
